{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/wp-admin/index.php",
  "preferredVersions": {
    "php": "8.1",
    "wp": "latest"
  },
  "steps": [
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "installPlugin",
      "options": {
        "activate": true,
        "pluginZipFile": {
          "resource": "url",
          "url": "https://downloads.wordpress.org/plugin/woocommerce.latest-stable.zip"
        }
      }
    },
    {
      "step": "installPlugin",
      "options": {
        "activate": true,
        "pluginZipFile": {
          "resource": "url",
          "url": "https://github.com/HamxaBoustani/wandtech-console/releases/latest/download/wandtech-console.zip"
        }
      }
    },
    {
      "step": "runPHP",
      "code": "<?php update_option('woocommerce_onboarding_profile', ['skipped' => true]); update_option('woocommerce_store_address', '123 Test Street'); update_option('woocommerce_store_address_2', ''); update_option('woocommerce_store_city', 'Tehran'); update_option('woocommerce_default_country', 'IR:TH'); update_option('woocommerce_store_postcode', '12345'); update_option('woocommerce_currency', 'IRT'); ?>"
    },
    {
      "step": "importFile",
      "file": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/woocommerce/woocommerce/trunk/plugins/woocommerce/sample-data/sample_products.xml"
      }
    },
    {
      "step": "runPHP",
      "code": "<?php if (file_exists('wp-content/plugins/wandtech-console/modules/wandtech-woochart/sample-orders.php')) { require_once 'wp-content/plugins/wandtech-console/modules/wandtech-woochart/sample-orders.php'; if(function_exists('create_sample_orders_for_woochart')) { create_sample_orders_for_woochart(20); } } ?>"
    },
    {
      "step": "runPHP",
      "code": "<?php $active_modules = get_option('wandtech_console_active_modules', []); $active_modules[] = 'wandtech-woochart'; update_option('wandtech_console_active_modules', array_unique($active_modules)); ?>"
    }
  ]
}